<div class="container">
  <header>
    <h1>Notes</h1>
  </header>

  <div class="add-note-form">
    <input 
      type="text" 
      [(ngModel)]="noteTitle" 
      placeholder="Title"
      class="input-title">
    
    <textarea 
      [(ngModel)]="noteText" 
      placeholder="Take a note..."
      rows="3"
      class="input-text">
    </textarea>

    <div class="button-group">
      <button 
        (click)="addNote()" 
        class="btn-add"
        [disabled]="!noteTitle.trim() && !noteText.trim()">
        {{ editingNoteId ? 'Update' : 'Add' }}
      </button>
      <button 
        *ngIf="editingNoteId" 
        (click)="cancelEdit()" 
        class="btn-cancel">
        Cancel
      </button>
    </div>
  </div>

  <div class="notes-grid" *ngIf="notes.length > 0">
    <div class="note-card" *ngFor="let note of notes">
      <div class="note-header">
        <h2 *ngIf="note.title">{{ note.title }}</h2>
        <div class="note-actions">
          <button class="btn-edit" (click)="editNote(note)" title="Edit">✎</button>
          <button class="btn-delete" (click)="deleteNote(note.id)" title="Delete">×</button>
        </div>
      </div>
      <p class="note-text" *ngIf="note.text">{{ note.text }}</p>
    </div>
  </div>

  <div class="loading" *ngIf="isLoading">Loading notes...</div>

  <div class="empty-state" *ngIf="!isLoading && notes.length === 0">
    <p>No notes yet. Create your first note above.</p>
  </div>
</div>
